{"version":3,"sources":["src/index.ts"],"names":[],"mappings":";AAEA,SAAS,IACH,KAAA,SAAY,CAAC,IAAK,IAAK,KACvB,KAAA,QAAU,GACV,KAAA,QAAU,EACV,KAAA,uBAAyB,KAAK,4BAE9B,KAAA,OAGN,EAAQ,UAAU,KAAO,WACpB,IAAA,EAAO,KACX,EAAK,SAAS,QAAQ,SAAS,EAAM,GACpC,EAAK,QAAQ,GAAS,SAAS,iBAAiB,mBAAmB,EAAK,QAGzE,EAAK,UAAY,SAAS,cAAc,eACxC,EAAK,WAAa,SAAS,cAAc,gBAEzC,EAAK,UAAU,iBAAiB,QAAS,WACpC,GAAA,KAAK,UAAU,SAAS,WAAY,OAAO,EAC/C,EAAK,KAAK,MAAO,KAGlB,EAAK,WAAW,iBAAiB,QAAS,WACrC,GAAA,KAAK,UAAU,SAAS,WAAY,OAAO,EAC/C,EAAK,KAAK,KAAM,MAIlB,EAAQ,UAAU,KAAO,SAAS,EAAO,GACpC,IAAA,EAAO,KAEN,KAAA,KAAO,KAAK,QAAU,EAEV,GAAb,KAAK,MACH,KAAA,UAAU,UAAU,IAAI,WAG1B,KAAK,MAAQ,KAAK,SAAS,OAAS,GAClC,KAAA,WAAW,UAAU,OAAO,WAG9B,KAAK,KAAO,GACV,KAAA,UAAU,UAAU,OAAO,WAG7B,KAAK,MAAQ,KAAK,SAAS,OAAS,GAClC,KAAA,WAAW,UAAU,IAAI,WAG1B,KAAA,QAAQ,KAAK,SAAS,QAAQ,SAAS,GACvB,OAAhB,EAAK,QACJ,EAAM,EACT,EAAK,UAAU,QAAQ,SAAU,UAGjC,EAAK,UAAU,QAAQ,SAAU,WAGV,MAAhB,EAAK,QACT,EAAM,GACT,EAAK,UAAU,OAAO,WAIwC,GAA3D,EAAK,QAAQ,QAAQ,QAAQ,EAAK,SAAS,EAAK,SACnD,EAAK,UAAU,QAAQ,SAAU,SACjC,EAAK,iBAAiB,EAAK,uBAAwB,WAClD,EAAK,UAAU,OAAO,cAMrB,KAAA,QAAQ,KAAK,MAAM,QAAQ,SAAS,IAC0B,GAA9D,EAAK,QAAQ,QAAQ,QAAQ,EAAK,SAAS,EAAK,WACnD,EAAK,UAAU,IAAI,UAGA,OAAhB,EAAK,SACR,EAAK,UAAU,OAAO,SAAU,aAI7B,KAAA,QAAU,KAAK,MAGrB,EAAQ,UAAU,0BAA4B,WACxC,IAAA,EAAc,CACM,WAAA,gBACA,YAAA,iBACA,cAAA,gBACA,iBAAA,uBAEpB,EAAY,SAAS,KAAK,MAC1B,IAAA,IAAI,KAAc,EACf,GAAyB,MAAzB,EAAU,GACF,OAAA,EAAY,IAK7B,IAAI","file":"src.5452c9d3.js","sourceRoot":"..","sourcesContent":["// On veut récupère tous les épisodes\n\nfunction Stepper() {\n\tthis.episodes  = ['4', '5', '6'];\n\tthis.sliders = [];\n\tthis.current = 0;\n\tthis.transitionEndEventName = this.getTransitionEndEventName();\n\n\tthis.init();\n}\n\nStepper.prototype.init = function () {\n\tvar self = this;\n\tself.episodes.forEach(function(item, value) {\n\t\tself.sliders[value] = document.querySelectorAll('[data-episode*=\"'+item+'\"]');\n\t});\n\n\tself.arrowLeft = document.querySelector(\".arrow.left\");\n\tself.arrowRight = document.querySelector(\".arrow.right\");\n\n\tself.arrowLeft.addEventListener('click', function() {\n\t\tif (this.classList.contains('disable')) return false;\n\t\tself.step(this, -1);\n\t});\n\n\tself.arrowRight.addEventListener('click', function() {\n\t\tif (this.classList.contains('disable')) return false;\n\t\tself.step(this, 1);\n\t});\n}\n\nStepper.prototype.step = function(arrow, inc) {\n\tlet self = this;\n\n\tthis.next = this.current + inc;\n\n\tif (this.next == 0) {\n\t\tthis.arrowLeft.classList.add('disable');\n\t}\n\n\tif (this.next == this.episodes.length - 2) {\n\t\tthis.arrowRight.classList.remove('disable');\n\t}\n\t\n\tif (this.next > 0) {\n\t\tthis.arrowLeft.classList.remove('disable');\n\t}\n\n\tif (this.next == this.episodes.length - 1) {\n\t\tthis.arrowRight.classList.add('disable');\n\t}\n\n\tthis.sliders[this.current].forEach(function(item) {\t\t\n\t\tif (item.tagName == 'IMG') {\n\t\t\tif (inc > 0) {\n\t\t\t\titem.classList.replace(\"active\", \"toLeft\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\titem.classList.replace(\"active\", \"toRight\");\n\t\t\t}\n\t\t}\n\t\telse if (item.tagName == \"LI\") {\n\t\t\tif (inc < 0) {\n\t\t\t\titem.classList.remove(\"active\");\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (item.dataset.episode.indexOf(self.episodes[self.next]) == -1) {\n\t\t\t\titem.classList.replace(\"active\", \"leave\");\n\t\t\t\titem.addEventListener(self.transitionEndEventName, function()  {\n\t\t\t\t\titem.classList.remove(\"leave\");\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\tthis.sliders[this.next].forEach(function(item) {\n\t\tif (item.dataset.episode.indexOf(self.episodes[self.current]) == -1) {\n\t\t\titem.classList.add(\"active\");\n\t\t}\n\t\t\t\n\t\tif (item.tagName == 'IMG') {\n\t\t\titem.classList.remove(\"toLeft\", \"toRight\");\n\t\t}\n\t});\n\n\tthis.current = this.next;\n};\n\nStepper.prototype.getTransitionEndEventName = function() {\n  var transitions = {\n      \"transition\"      : \"transitionend\",\n      \"OTransition\"     : \"oTransitionEnd\",\n      \"MozTransition\"   : \"transitionend\",\n      \"WebkitTransition\": \"webkitTransitionEnd\"\n   }\n  let bodyStyle = document.body.style;\n  for(let transition in transitions) {\n      if(bodyStyle[transition] != undefined) {\n          return transitions[transition];\n      } \n  }\n};\n\nnew Stepper();"]}